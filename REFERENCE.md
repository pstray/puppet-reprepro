# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`reprepro`](#reprepro): Configures reprepro on a server

**Defined types**

* [`reprepro::distribution`](#repreprodistribution): Adds a "Distribution" to manage.
* [`reprepro::filterlist`](#repreprofilterlist): Adds a FilterList  Packages list have the same syntax as the output of dpkg --get-selections
* [`reprepro::key`](#repreprokey): Import a PGP key into the local keyring of the reprepro user
* [`reprepro::pull`](#reprepropull): Add a repository pull rule.
* [`reprepro::repository`](#repreprorepository): Adds a packages repository.
* [`reprepro::update`](#repreproupdate): Adds a packages repository.

## Classes

### reprepro

Configures reprepro on a server

#### Parameters

The following parameters are available in the `reprepro` class.

##### `basedir`

Data type: `String`

The base directory to house the repository.

Default value: '/var/packages'

##### `homedir`

Data type: `String`

The home directory of the reprepro user.

Default value: '/var/packages'

##### `manage_user`

Data type: `Boolean`

if true, creates the user $user_name

Default value: `true`

##### `user_name`

Data type: `String`

user_name who own reprepro

Default value: 'reprepro'

##### `group_name`

Data type: `String`

group of user who own reprepro

Default value: 'reprepro'

##### `keys`

Data type: `Hash`

hash to create reprepro::key resources.

Default value: {}

##### `key_defaults`

Data type: `Hash`

hash with defaults for keys creation.

Default value: {}

##### `package_ensure`

Data type: `String`

what to ensure for packages

Default value: 'present'

##### `package_name`

Data type: `String`

name of the package to install

Default value: 'reprepro'

## Defined types

### reprepro::distribution

Adds a "Distribution" to manage.

#### Examples

##### 

```puppet
reprepro::distribution {"lenny":
  repository    => "my-repository",
  origin        => "Camptocamp",
  label         => "Camptocamp",
  suite         => "stable",
  architectures => "i386 amd64 source",
  components    => "main contrib non-free",
  description   => "A simple example of repository distribution",
  sign_with     => "packages@camptocamp.com",
}
```

#### Parameters

The following parameters are available in the `reprepro::distribution` defined type.

##### `basedir`

Data type: `String`

reprepro basedir

Default value: $::reprepro::basedir

##### `repository`

Data type: `String`

the name of the distribution

##### `origin`

Data type: `Optional[String]`

package origin

Default value: `undef`

##### `label`

Data type: `Optional[String]`

package label

Default value: `undef`

##### `suite`

Data type: `Optional[String]`

package suite

Default value: `undef`

##### `architectures`

Data type: `String`

available architectures

##### `components`

Data type: `String`

available components

##### `description`

Data type: `Optional[String]`

a short description

Default value: `undef`

##### `sign_with`

Data type: `String`

email of the gpg key

Default value: ''

##### `codename`

Data type: `String`

codename (defaults to $name)

Default value: $name

##### `basedir`

the basedir

Default value: $::reprepro::basedir

##### `homedir`

Data type: `String`

the homedir

Default value: $::reprepro::homedir

##### `fakecomponentprefix`

Data type: `Optional[String]`

fakecomponentprefix

Default value: `undef`

##### `udebcomponents`

Data type: `String`

udebcomponents

Default value: $components

##### `deb_indices`

Data type: `String`

file name and compression

Default value: 'Packages Release .gz .bz2'

##### `dsc_indices`

Data type: `String`

file name and compression

Default value: 'Sources Release .gz .bz2'

##### `update`

Data type: `String`

update policy name

Default value: ''

##### `pull`

Data type: `String`

pull policy name

Default value: ''

##### `uploaders`

Data type: `String`

who is allowed to upload packages

Default value: ''

##### `snapshots`

Data type: `Boolean`

create a reprepro snapshot on each update

Default value: `false`

##### `install_cron`

Data type: `Boolean`

install cron job to automatically include new packages

Default value: `true`

##### `not_automatic`

Data type: `String`

automatic pined to 1 by using NotAutomatic,
value are "yes" or "no"

Default value: ''

##### `but_automatic_upgrades`

Data type: `String`

set ButAutomaticUpgrades,
value are "yes" or "no"

Default value: 'no'

##### `log`

Data type: `String`

log

Default value: ''

##### `create_pull`

Data type: `Hash`

hash to create reprepro::pull resource
the name will be appended to $pull

Default value: {}

##### `create_update`

Data type: `Hash`

hash to create reprepro::update resource
the name will be appended to $update

Default value: {}

##### `create_filterlist`

Data type: `Hash`

hash to create reprerpo::filterlist resource

Default value: {}

### reprepro::filterlist

Adds a FilterList

Packages list have the same syntax as the output of dpkg --get-selections

#### Examples

##### 

```puppet
reprepro::filterlist {"lenny-backports":
  ensure     => present,
  repository => "dev",
  packages   => [
    "git install",
    "git-email install",
    "gitk install",
  ],
}
```

#### Parameters

The following parameters are available in the `reprepro::filterlist` defined type.

##### `name`

name of the filter list

##### `ensure`

Data type: `String`

present/absent, defaults to present

Default value: 'present'

##### `repository`

Data type: `String`

the name of the repository

##### `packages`

Data type: `Array`

a list of packages, if the list is empty, the file
content won't be managed by puppet

Default value: []

##### `basedir`

Data type: `String`

directory base to use, defaults to $reprepro::basedir

Default value: $::reprepro::basedir

### reprepro::key

Import a PGP key into the local keyring of the reprepro user

#### Parameters

The following parameters are available in the `reprepro::key` defined type.

##### `key_source`

Data type: `String`

Path to the key in gpg --export format. This is
used as the source parameter in a puppet File resource.

Default value: ''

##### `key_content`

Data type: `String`

define the key content instead of pointing to a source file

Default value: ''

##### `homedir`

Data type: `String`

Home directory of the reprepro user.
Defaults to $reprepro::homedir

Default value: $::reprepro::homedir

### reprepro::pull

Add a repository pull rule.

#### Examples

##### 

```puppet
reprepro::pull {'lenny-backports':
  repository  => 'localpkgs',
  from        => 'dev',
  filter_name => 'lenny-backports',
  basedir     => '/srv/reprepro',
}
```

#### Parameters

The following parameters are available in the `reprepro::pull` defined type.

##### `name`

the name of the pull rule to use in the Pull
field in conf/distributions

##### `repository`

Data type: `String`

the local repository to pull to

##### `from`

Data type: `String`

The codename of the distribution to pull packages from.

##### `components`

Data type: `String`

The components of the distribution to get from.

Default value: ''

##### `architectures`

Data type: `String`

The architectures to update.

Default value: ''

##### `udebcomponents`

Data type: `String`

Like Components but for the udebs.

Default value: ''

##### `filter_action`

Data type: `String`

default action when something is not found in the list

Default value: ''

##### `filter_name`

Data type: `String`

a list of filenames in the format of dpkg --get-selections

Default value: ''

##### `filter_src_name`

Data type: `String`

FilterSrcList parameter

Default value: ''

##### `filter_formula`

Data type: `String`

FilterFormula

Default value: ''

##### `basedir`

Data type: `String`

basedir for installation

Default value: $::reprepro::basedir

### reprepro::repository

Adds a packages repository.

#### Examples

##### 

```puppet
reprepro::repository { 'localpkgs':
  ensure  => present,
  options => ['verbose', 'basedir .'],
}
```

#### Parameters

The following parameters are available in the `reprepro::repository` defined type.

##### `name`

the name of the repository

##### `ensure`

Data type: `String`

present/absent, defaults to present

Default value: 'present'

##### `basedir`

Data type: `String`

base directory of reprepro

Default value: $::reprepro::basedir

##### `incoming_name`

Data type: `String`

the name of the rule-set, used as argument

Default value: 'incoming'

##### `incoming_dir`

Data type: `String`

the name of the directory to scan for .changes files

Default value: 'incoming'

##### `incoming_tmpdir`

Data type: `String`

directory where the files are copied into
before they are read

Default value: 'tmp'

##### `incoming_allow`

Data type: `String`

allowed distributions

Default value: ''

##### `owner`

Data type: `String`

owner of reprepro files

Default value: 'reprepro'

##### `group`

Data type: `String`

reprepro files group

Default value: 'reprepro'

##### `options`

Data type: `Array`

reprepro options

Default value: ['verbose', 'ask-passphrase', 'basedir .']

##### `createsymlinks`

Data type: `Boolean`

create suite symlinks

Default value: `false`

### reprepro::update

Adds a packages repository.

#### Examples

##### 

```puppet
reprepro::update {"lenny-backports":
  suite       => 'lenny',
  repository  => "dev",
  url         => 'http://backports.debian.org/debian-backports',
  filter_name => "lenny-backports",
}
```

#### Parameters

The following parameters are available in the `reprepro::update` defined type.

##### `name`

the name of the update-upstream use in the
Update field in conf/distributions

##### `suite`

Data type: `String`

package suite

##### `repository`

Data type: `String`

the name of the repository

##### `url`

Data type: `String`

a valid repository URL

##### `basedir`

Data type: `String`

The base directory of the repository

Default value: $::reprepro::basedir

##### `architectures`

Data type: `Optional[String]`

architectures

Default value: `undef`

##### `components`

Data type: `Optional[String]`

components

Default value: `undef`

##### `udebcomponents`

Data type: `Optional[String]`

udebcomponents

Default value: `undef`

##### `flat`

Data type: `Optional[String]`

flat

Default value: `undef`

##### `verify_release`

Data type: `String`

check the GPG signature Releasefile

Default value: 'blindtrust'

##### `ignore_release`

Data type: `String`

ignore_release

Default value: 'No'

##### `filter_action`

Data type: `String`

default action when something is not found in the list

Default value: ''

##### `filter_name`

Data type: `String`

Name of a filter list created with reprepro::filterlist,
matching binary packages

Default value: ''

##### `filter_src_name`

Data type: `String`

Name of a filter list created with reprepro::filterlist,
matching source packages

Default value: ''

##### `download_lists_as`

Data type: `String`

specify in which order reprepro will look for a usable
variant of needed index files ( .gz, .bz2, .lzma, .xz and .diff)

Default value: ''

##### `getinrelease`

Data type: `Optional[String]`

if this is set to 'no', no InRelease file is downloaded but
only Release (and Release.gpg ) are tried.

Default value: `undef`

